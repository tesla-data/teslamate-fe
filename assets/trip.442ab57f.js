import{R as m,j as p,E as _,f as V,T as f,n as g,t as k,C as B,D as y}from"./TripDetail.98eade70.js";const b={__name:"TripApp",setup(n){return(e,t)=>(Vue.openBlock(),Vue.createBlock(Vue.unref(m),null,{default:Vue.withCtx(({Component:a})=>[(Vue.openBlock(),Vue.createBlock(Vue.KeepAlive,{exclude:["Charge","Drive"]},[(Vue.openBlock(),Vue.createBlock(Vue.resolveDynamicComponent(a)))],1024))]),_:1}))}},$={class:"page"},q={name:"Trip"},N=Object.assign(q,{setup(n){const e=p(),t=Vue.ref(),a=Vue.ref(),s=Vue.ref(),u=Vue.ref(),r=Vue.ref();return _("/share/trip",e.query.hash,e.query.id).then(({drives:c,charges:o,positions:h})=>{t.value=c,a.value=o,s.value=h,u.value=h.map(({latitude:l,longitude:i})=>[l,i]),r.value=o.map(({latitude:l,longitude:i,mode:v})=>[l,i,v])}),Vue.onActivated(()=>{r.value&&(r.value=[...r.value])}),(c,o)=>(Vue.openBlock(),Vue.createElementBlock(Vue.Fragment,null,[Vue.createVNode(V,{title:`${Vue.unref(e).query.display||""}\u884C\u7A0B`,"disable-back":!0},null,8,["title"]),Vue.createElementVNode("div",$,[Vue.createVNode(f,{drives:t.value,charges:a.value,positions:s.value,track:u.value,chargeMarkers:r.value},null,8,["drives","charges","positions","track","chargeMarkers"])])],64))}}),E={class:"page"},w={name:"Charge"},x=Object.assign(w,{setup(n){const e=p(),t=Vue.ref(),a=Vue.ref();return _("/share/charge",e.query.hash,e.query.id).then(({charge:{latitude:s,longitude:u,mode:r},detail:c})=>{t.value=[[s,u,r]],a.value=c}),(s,u)=>(Vue.openBlock(),Vue.createElementBlock(Vue.Fragment,null,[Vue.createVNode(V,{title:"\u5145\u7535\u8BE6\u60C5",disableBack:!Vue.unref(e).query.href},null,8,["disableBack"]),Vue.createElementVNode("div",E,[Vue.createVNode(g,{position:t.value,detail:a.value},null,8,["position","detail"])])],64))}}),D={class:"page"},C={name:"Drive"},A=Object.assign(C,{setup(n){const e=p(),t=Vue.ref(),a=Vue.ref(),s=Vue.ref();return _("/share/drive",e.query.hash,e.query.id).then(u=>{t.value=u.drive,a.value=u.positions,s.value=a.value.map(({latitude:r,longitude:c})=>[r,c])}),(u,r)=>(Vue.openBlock(),Vue.createElementBlock(Vue.Fragment,null,[Vue.createVNode(V,{title:"\u884C\u7A0B\u8BE6\u60C5",disableBack:!Vue.unref(e).query.href},null,8,["disableBack"]),Vue.createElementVNode("div",D,[Vue.createVNode(k,{drive:t.value,positions:a.value,track:s.value},null,8,["drive","positions","track"])])],64))}}),T=[{path:"/",name:"Home",component:N},{path:"/charge",name:"Charge",component:x},{path:"/drive",name:"Drive",component:A}],d=B({history:y(),routes:T});d.beforeEach((n,e,t)=>{window._hmt&&n.path&&window._hmt.push(["_trackPageview","/trip.html#"+n.fullPath]),t()});Vue.createApp(b).use(nutui.Icon).use(d).mount("#app");
